{"version":3,"sources":["utils.js","components/PostMarkup.js","components/CommentMarkup.js","components/Post.js","components/Header.js","components/Footer.js","components/Page.js","components/Router.js","App.js","serviceWorker.js","index.js"],"names":["getAPI","url","fetch","then","blob","json","getTopIDs","getStory","id","concat","counter","module","exports","range","start","stop","step","Array","from","length","_","i","getDiff","unix","timeString","UNIX_timestamp","a","Date","year","getFullYear","month","getMonth","getDate","getHours","getMinutes","getSeconds","unixConverter","ms","getTime","millisec","seconds","toFixed","minutes","hours","days","msConverter","elementsRandomColor","elementsArray","map","elem","console","log","style","backgroundColor","Math","floor","random","toString","fetchData","arr","Promise","resolve","reject","array","index","obj","push","catch","e","error","setTimeout","walkBackComments","maxNum","top100","num","objs","type","hostURL","hostname","URL","replace","commentsLink","post","kids","checkRoute","route","window","location","pathname","checkLoaded","item","isArray","key","hasOwnProperty","isEmpty","filterShowStories","stories","all","sort","b","time","reverse","encodeStr","base","query","encodeURI","paginate","count","this","state","sliceStart","sliceEnd","chunkComments","slice","PostMarkup","props","alternateMarkup","text","href","react_default","createElement","className","utils","src","target","rel","title","score","by","CommentMarkup","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","original","assertThisInitialized","parentID","_this2","findOriginal","parent","setState","str","slicer","ReactHtmlParser","Component","Post","indexes","posts","data","chunkData","outerIndex","components_CommentMarkup","components_PostMarkup","renderMarkup","Header","Appname","links","link","Footer","Page","fullData","fullComments","headerLinks","process","footerLinks","updatePageState","bind","dataToGet","items","comments","filter","counterAndChunk","toConsumableArray","_this3","prevState","chunk","document","querySelector","color","newState","_this4","getData","result","ShowPageText","components_Post","_this5","components_Header","renderBodyContent","onClick","components_Footer","Router","HashRouter","basename","Route","exact","path","component","components_Page","App","components_Router","Boolean","match","ReactDOM","render","src_App_0","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.24b7d610.chunk.js","sourcesContent":["function getAPI(url) {\n\treturn fetch(url)\n\t\t.then(blob => blob.json())\n\t\t.then(json => json)\n}\n//add type, rgba, hex\n//add color range or name\nfunction randomHex() {\n\t// returns random hex\n\treturn '#' + Math.floor(Math.random() * 16777215).toString(16)\n}\n\nfunction elementsRandomColor(elementsArray) {\n\telementsArray = Array.from(elementsArray)\n\tlet map = elementsArray.map((elem) => {\n\t\tconsole.log(elem)\n\t\treturn elem.style.backgroundColor = randomHex()\n\t})\n\n}\n// get array of ids\nfunction getTopIDs(url) {\n\treturn fetch(url).then(blob => blob.json()).then(json => json)\n}\n// returns a promise resolves to an object\nfunction getStory(id) {\n\tlet url = `https://hacker-news.firebaseio.com/v0/item/${id}.json?print=pretty`\n\treturn fetch(url).then(blob => blob.json()).then(json => json)\n}\n\nfunction fetchData(url) {\n\tconsole.log(url)\n\tlet arr = []\n\treturn new Promise((resolve, reject) => {\n\t\tgetTopIDs(url).then(array => {\n\t\t\tarray.map((id, index) => {\n\t\t\t\treturn id\n\t\t\t}).map((id, index) => {\n\t\t\t\tgetStory(id).then(obj => {\n\t\t\t\t\tarr.push(obj)\n\t\t\t\t}).catch(e => console.error(e))\n\t\t\t})\n\t\t})\n\t\tsetTimeout(function() {\n\t\t\tresolve(arr)\n\t\t}, 2000)\n\t})\n\t// .then(res => {\n\t//     console.log('res', res)\n\t//     return res\n\t// })\n\t//     .catch(e => {\n\t//     console.error(`An error: ${e}`)\n\t// })\n}\n// check if this route\nfunction checkRoute(route){\n    let pathname = window.location.pathname\n    return (pathname === route ? true : false)\n}\n// get max id and 100 previous\nfunction walkBackComments() {\n\treturn getAPI(\"https://hacker-news.firebaseio.com/v0/maxitem.json?print=pretty\")\n\t\t.then(maxNum => {\n\t\t\tlet top100 = []\n\t\t\tlet i = 0\n\t\t\twhile(i < 100) {\n\t\t\t\tlet num = maxNum - i\n\t\t\t\ttop100.push(num)\n\t\t\t\ti++\n\t\t\t}\n\t\t\tlet objs = top100.map(id => {\n\t\t\t\treturn getStory(id)\n\t\t\t\t\t.then(obj => {\n\t\t\t\t\t\t// reject nulls\n\t\t\t\t\t\tif(obj) {\n\t\t\t\t\t\t\tif(obj.type === 'comment') {\n\t\t\t\t\t\t\t\treturn obj\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t})\n\t\t\tconsole.log('walk back okay')\n\t\t\treturn objs\n\t\t})\n}\n// walkBackComments().then(arr => {\n//     arr.forEach(i => {\n//         i.then(j => console.log(j))\n//     })\n// })\nfunction unixConverter(UNIX_timestamp) {\n\t// https://stackoverflow.com/questions/847185/convert-a-unix-timestamp-to-time-in-javascript\n\tlet a = new Date(UNIX_timestamp * 1000)\n\tlet months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\n\tlet year = a.getFullYear()\n\tlet month = months[a.getMonth()]\n\tlet date = a.getDate()\n\tlet hour = a.getHours()\n\tlet min = a.getMinutes()\n\tlet sec = a.getSeconds()\n\tlet time = date + ' ' + month + ' ' + year + ' ' + hour + ':' + min + ':' + sec\n\treturn time\n}\n// https://stackoverflow.com/questions/19700283/how-to-convert-time-milliseconds-to-hours-min-sec-format-in-javascript\n// ms to human readable time\nfunction msConverter(millisec) {\n\tlet seconds = (millisec / 1000).toFixed()\n\tlet minutes = (millisec / (1000 * 60)).toFixed()\n\tlet hours = (millisec / (1000 * 60 * 60)).toFixed()\n\tlet days = (millisec / (1000 * 60 * 60 * 24)).toFixed()\n\tif(seconds < 60) {\n\t\treturn `${seconds} seconds ago`\n\t} else if(minutes < 60) {\n\t\treturn `${minutes} minutes ago`\n\t} else if(hours < 24) {\n\t\treturn `${hours} hours ago`\n\t} else {\n\t\treturn `${days} days ago`\n\t}\n}\n\nfunction getDiff(unix) {\n\t// convert unix to time date string\n\tlet timeString = unixConverter(unix)\n\t// convert to new date ms object\n\tlet ms = new Date(timeString).getTime()\n\t// subract from current time\n\tlet diff = new Date().getTime() - ms\n\t// convert diff to hours\n\tlet result = msConverter(diff)\n\treturn result\n}\n// create a link to comments\nfunction commentsLink(post) {\n\t// if no kids, undefined, send to ID page\n\tif(!post.kids) {\n\t\treturn 'discuss'\n\t} else {\n\t\treturn `${post.kids.length} comments`\n\t}\n}\n// shows link to the name of website post came from - i.e. medium.com\nfunction hostURL(url) {\n\t// if no url, return null in ternary\n\tif(!url) {\n\t\treturn ''\n\t}\n\t// console.log(url)\n\tlet urlObj = new URL(url)\n\tlet hostname = urlObj.hostname\n\thostname = hostname.replace(/^(www\\.)/, \"\");\n\treturn hostname\n}\n// check if object empty\nfunction isEmpty(obj) {\n    for(var key in obj) {\n        if(obj.hasOwnProperty(key))\n            return false;\n    }\n    return true;\n}\n// check if array has length inisde render - t for length\nfunction checkLoaded(item){\n    if(Array.isArray(item)){\n        return !item.length ? false : true\n    } else if(!(Array.isArray(item)) && typeof \"object\") {\n        return !isEmpty(item)\n    }\n}\n\n\nfunction filterShowStories(){\n    getAPI(\" https://hacker-news.firebaseio.com/v0/showstories.json?print=pretty\")\n    .then(stories => {\n        Promise.all(\n            stories.map(id => {\n                // console.log(id)\n                return getStory(id).then(obj => {\n                    // reject nulls\n                    return obj\n                });\n                //push resolved promises into another array\n            })\n        ).then(stories => {\n            return stories = stories.sort((a, b) => {\n                return a.time - b.time\n            }).reverse()\n        })\n    })\n}\n// encode text in string\nfunction encodeStr(base, query){\n\treturn encodeURI(`${base}${query}`)\n}\n// takes an array of results - returns value then increments\n// holds values in a closure\nconst countBy30 = (function () {\n  var counter = 0\n  return function () {\n      counter = counter += 30\n      return counter\n  }\n})();\nfunction range(start, stop, step){\n    return  Array.from({ length: (stop - start) / step }, (_, i) => start + (i * step))\n}\n// function paginate(arr){\n//     // console.log('paginate')\n//     let count = countBy30()\n//     // console.log(count)\n//     let sliceStart = count - 30\n//     let sliceEnd = count\n//     let indexes = range(sliceStart+1, sliceEnd+1, 1)\n//     let chunk = arr.slice(sliceStart, sliceEnd)\n//     return {\n//         data: chunk,\n//         indexes: indexes\n//     }\n// }\nfunction paginate(arr) {\n    //increment and get current count\n        let count = this.state.counter + 30;\n        console.log('count', count)\n        let sliceStart = count - 30\n/* console.log('start', sliceStart)\n */        let sliceEnd = count\n/* console.log('end', sliceEnd) */\n        let chunk = arr.slice(sliceStart, sliceEnd)\n        /* console.log('chunk', chunk) */\n        return {chunkComments: chunk, counter: count};\n    }\n\nmodule.exports = {\n    range: range,\n    getAPI: getAPI,\n\tgetDiff: getDiff,\n\telementsRandomColor: elementsRandomColor,\n\tgetTopIDs: getTopIDs,\n\tgetStory: getStory,\n\tfetchData: fetchData,\n\twalkBackComments: walkBackComments,\n\thostURL: hostURL,\n\tcommentsLink: commentsLink,\n    checkRoute: checkRoute,\n    checkLoaded: checkLoaded,\n    filterShowStories: filterShowStories,\n    encodeStr: encodeStr,\n    paginate: paginate\n}\n","import React from 'react'\nimport utils from '../utils'\n\n\nfunction PostMarkup(props){\n    let post = props.post.post\n    // console.log('props', props.post)\n    let index = props.post.index\n    let hostURL = props.post.hostURL\n    let getDiff = props.post.getDiff\n    let commentsLink = props.post.commentsLink\n    // render this markup when needed'\n    function alternateMarkup(text, href, index){\n        return(\n            <div className={text} key={index}>\n                <a href={href}>&nbsp;{text}</a>\n            </div>\n        )\n    }\n    // don't render indexes on jobs route\n    return (\n    <div className=\"Post\" key={index}>\n        <div className=\"rank\">\n        { !utils.checkRoute('/jobs') || !utils.checkRoute('/comments')?\n            <div>{index}.</div> : null\n        }\n    </div>\n    <div className=\"vote\">\n        <a href={`https://news.ycombinator.com/vote?id=${post.id}&how=up&goto=news`}>\n        <div><img src=\"https://news.ycombinator.com/grayarrow2x.gif\"/></div>\n        </a>\n    </div>\n    <div className=\"text-container\">\n        <div className=\"title\">\n            <a className=\"Post-link\" href={post.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                {post.title}\n            </a>\n            <a id=\"host-url\" href={`http://${hostURL(post.url)}`} target=\"_blank\" rel=\"noopener noreferrer\">\n            &nbsp;{!hostURL(post.url) ? null : `(${hostURL(post.url)})` }\n            </a>\n        </div>\n        <div className=\"subtext\">\n            <div className=\"score\">{post.score}&nbsp;points by {''}\n                <a href={`https://news.ycombinator.com/user?id=${post.by}`}>{''}{post.by}</a>\n            </div>\n            <div className=\"age\">\n                {''}\n                <a href={`https://news.ycombinator.com/item?id=${post.id}`}>&nbsp;{getDiff(post.time)}</a>\n            </div>\n            {\n                window.location.pathname === '/' || window.location.pathname === '/news' ?\n                alternateMarkup('hide',`https://news.ycombinator.com/hide?id=${post.id}&goto=newest`, index ) :\n                null\n            }\n            {\n                window.location.pathname === \"/newest\" ?\n                [\n                    alternateMarkup('hide',`https://news.ycombinator.com/hide?id=${post.id}&goto=newest` ,index),\n                    alternateMarkup('past', utils.encodeStr(`https://hn.algolia.com/?query=`, post.title), index+100),\n                    alternateMarkup('web', utils.encodeStr(`https://www.google.com/search?q=`, post.title), index+200)\n                ]\n                    : null\n\n            }\n            <div className=\"comment\">\n                <a href={`https://news.ycombinator.com/item?id=${post.id}`}>&nbsp;{commentsLink(post)}</a>\n            </div>\n        </div>\n        </div>\n    </div>)\n}\nexport default  PostMarkup\n","import React, {Component} from \"react\"\nimport utils from '../utils'\nimport ReactHtmlParser, { processNodes, convertNodeToElement, htmlparser2 } from 'react-html-parser';\n\n// takes an object with array of data and some functions\nclass CommentMarkup extends Component {\n    constructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\toriginal: \"\"\n\t\t};\n        let that = this\n\n        this.index = props.post.index\n        this.hostURL = props.post.hostURL\n        this.getDiff = props.post.getDiff\n        // console.log('props', this.props )\n\t}\n    // goes up the tree until it find parent\n    findOriginal(parentID){\n    //call api on parent\n        return utils.getAPI(`https://hacker-news.firebaseio.com/v0/item/${parentID}.json?print=pretty`)\n        .then(item => {\n            // if parent is story done\n            if(item.type === 'story'){\n                this.setState({\n                    original: item\n                })\n                return\n            } else {\n                // call again with new parent val\n                // return 'none'\n                this.findOriginal(item.parent)\n\n\n            }\n        })\n\n    }\n    componentDidMount(){\n        // console.log('parent',this.props.post.post.parent)\n        this.findOriginal(this.props.post.post.parent)\n    }\n    // let origin = findOriginal(post.parent)\n    // // setTimeout(function(){\n    //     console.log('origin', origin)\n    // // },5000)\n    slicer(str){\n        if(!str){\n            return false\n        }\n        if(str.length >= 30){\n            return str.slice(0,30)\n        } else {\n            return str\n        }\n\n\n    }\n\n    render(){\n        // if(!this.post){\n        //     console.log('nothing')\n        //     return\n        // }\n        let originalPost = this.state.original.title\n        let post = this.props.post.post\n        // console.log('post', post)\n        return (\n            <div className={`Post ${utils.checkRoute('/comments') ? 'comment' : ''}`}>\n\n            <div className=\"subtext post-child\">\n                <div className=\"vote\">\n                    <span><img src=\"https://news.ycombinator.com/grayarrow2x.gif\"/></span>\n                </div>\n                <div className=\"by\">\n                    {post.by}\n                </div>\n                <span className=\"age\">\n                {''}\n                    <a href={`https://news.ycombinator.com/item?id=${post.id}`}>&nbsp;{this.getDiff(post.time)}</a>\n                </span>\n                <span className=\"parent\">\n                {''}\n                    <a href={`https://news.ycombinator.com/ q  q item?id=${post.parent}`}>&nbsp;parent</a>\n                </span>\n                {''}\n                <span className=\"orignal-post\">\n                {''}\n                <a href={this.state.original.url}>&nbsp;on: {this.slicer(this.state.original.title)}</a>\n\n                </span>\n\n\n            </div>\n            <div className=\"text-container post-child\">\n            <div className=\"title\">\n            {ReactHtmlParser(post.text)}\n            </div>\n            </div>\n            </div>)\n    }\n}\n\nexport default CommentMarkup\n","import React from \"react\"\nimport PostMarkup from \"./PostMarkup\"\nimport CommentMarkup from \"./CommentMarkup\"\nimport utils from '../utils'\n\n// Post takes an array or an object. Login sorts them\nfunction Post(props) {\n    console.log('props', props)\n    console.log('test post')\n    let indexes\n    let posts = props.data\n    // console.log('posts', posts)\n    // if props.data an object, set up indexes\n    if(!(Array.isArray(props.data)) && typeof \"object\") {\n        indexes = props.data.indexes\n        posts = props.data.chunkData\n    }\n    // if an array bypass the above\n    // function ComponentMarkup(post){\n    //     post = post.post\n    //     return(<div className={`Post ${utils.checkRoute('/comments') ? 'comment' : ''}`}>\n    //\n    //         <div className=\"subtext post-child\">\n    //             <div className=\"vote\">\n    //                 <span><img src=\"https://news.ycombinator.com/grayarrow2x.gif\"/></span>\n    //             </div>\n    //             <div className=\"by\">\n    //                 {post.by}\n    //             </div>\n    //\n    //             <span className=\"parent\">\n    //             {''}\n    //                 <a href={`https://news.ycombinator.com/item?id=${post.parent}`}>&nbsp;parent</a>\n    //             </span>\n    //             {''}\n    //\n    //\n    //         </div>\n    //\n    //     </div>)\n    // }\n    function renderMarkup(post, index){\n        // console.log('POST', post)\n        if(!utils.checkRoute('/comments')){\n            return(<PostMarkup key={index} post={\n               {\n                   post: post,\n                   index:indexes[index],\n                   hostURL: utils.hostURL,\n                   getDiff: utils.getDiff,\n                   commentsLink: utils.commentsLink\n               }  }/>\n           )\n       } else {\n           return(<CommentMarkup key={index}  post={ {\n               post: post,\n               index:index,\n               hostURL: utils.hostURL,\n               getDiff: utils.getDiff,\n               commentsLink: utils.commentsLink\n           } }/>\n            )\n       }\n    }\n\treturn posts.map((post, outerIndex) => {\n        // console.log('posts', posts)\n        return(\n            renderMarkup(post, outerIndex)\n            )\n        {/*return(<CommentMarkup key={outerIndex}  post={ {\n            post: post,\n            index:outerIndex,\n            hostURL: utils.hostURL,\n            getDiff: utils.getDiff,\n            commentsLink: utils.commentsLink\n        } }/>)\n        */}\n        // if post is still an array, loop again\n        {/*    return Array.isArray(post) ? post.map((item, innerIndex) => {\n                console.log('i', indexes[innerIndex])\n                   return (!utils.checkRoute('/comments')  ?\n                   <PostMarkup key={innerIndex} post={\n                       {\n                           post: item,\n                           index:indexes[innerIndex],\n                           hostURL: utils.hostURL,\n                           getDiff: utils.getDiff,\n                           commentsLink: utils.commentsLink\n                       }  }/> :\n                       <CommentMarkup key={innerIndex}  post={ {\n                           post: item,\n                           index:innerIndex,\n                           hostURL: utils.hostURL,\n                           getDiff: utils.getDiff,\n                           commentsLink: utils.commentsLink\n                       } }/>\n\n                   )\n            })\n            :\n             (\n                !utils.checkRoute('/comments')  ? <PostMarkup key={outerIndex} post={\n                    {\n                        post: post,\n                        index:indexes[outerIndex],\n                        hostURL: utils.hostURL,\n                        getDiff: utils.getDiff,\n                        commentsLink: utils.commentsLink\n                    }  }/> :\n\n                    <CommentMarkup key={outerIndex}  post={ {\n                        post: post,\n                        index:outerIndex,\n                        hostURL: utils.hostURL,\n                        getDiff: utils.getDiff,\n                        commentsLink: utils.commentsLink\n                    } }/>\n\n                )\n                */}\n\t})\n\n}\nexport default Post\n","import React from 'react'\n\nfunction Header(props) {\n\treturn (<div className=\"Header\">\n        <div className=\"header-cell logo\">\n            <a href=\"/\">\n                <img src=\"https://news.ycombinator.com/y18.gif\"/>\n            </a>\n        </div>\n\t\t<div className=\"header-cell app-name\">\n            <a href=\"/\">\n                <strong>{props.Appname}</strong>\n            </a>\n        </div>\n\t\t<div className=\"header-cell login\">\n        <a href=\"#\">login</a>\n        </div>\n            <div className=\"header-links\">\n            {\n                props.links.map((link, index) => {\n                    return <div className=\"header-cell header-link\" key={index}><a href={link.url}>{link.link}</a></div>\n                })\n            }\n            </div>\n\t</div>)\n}\nexport default Header\n","import React from 'react'\n\nfunction Footer(props){\n    return(\n        <footer className=\"Footer\">\n        <div className=\"footer-links\">\n        {\n            props.links.map((link, index) => {\n                return <div className=\"footer-link\" key={index}><a href={link.url}>{link.link}</a></div>\n            })\n        }\n        </div>\n        </footer>\n    )\n}\n\nexport default Footer\n","import React, {Component} from \"react\";\nimport Post from \"./Post\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport data from \"../data/post_data.json\";\nimport utils from \"../utils\";\n\n// import getJSON from \"../utils\"\nclass Page extends Component {\n\tconstructor(props) {\n        // console.log('props page', props)\n\t\tsuper(props);\n\t\tthis.state = {\n            counter: 0,\n\t\t\tfullData: [],\n            chunkData: [],\n            fullComments: [],\n\t\t\tchunkComments: [],\n            stories: \"\",\n            headerLinks: [\n                {\n                    link: \"new\",\n                    url: `${process.env.PUBLIC_URL}/newest`\n                },\n                {\n                    link: \"comments\",\n                    url: `${process.env.PUBLIC_URL}/comments`\n                },\n                {\n                    link: \"show\",\n                    url: `${process.env.PUBLIC_URL}/show`\n                },\n                {\n                    link: \"ask\",\n                    url: `${process.env.PUBLIC_URL}/ask`\n                },\n                {\n                    link: \"jobs\",\n                    url: `${process.env.PUBLIC_URL}/jobs`\n                },\n                {\n                    link: \"submit\",\n                    url: \"https://news.ycombinator.com/submit\"\n                }\n            ],\n            footerLinks: [\n                {\n                    link: \"Guildlines\",\n                    url: \"https://news.ycombinator.com/newsguidelines.html\"\n                },\n                {\n                    link: \"FAQ\",\n                    url: \"https://news.ycombinator.com/newsfaq.html\"\n                },\n                {\n                    link: \"Support\",\n                    url: \"mailto:hn@ycombinator.com\"\n                },\n                {\n                    link: \"API\",\n                    url: \"https://github.com/HackerNews/API\"\n                },\n                {\n                    link: \"Security\",\n                    url: \"https://news.ycombinator.com/security.html\"\n                },\n                {\n                    link: \"Lists\",\n                    url: \"https://news.ycombinator.com/lists\"\n                },\n                {\n                    link: \"Bookmarklet\",\n                    url: \"https://news.ycombinator.com/bookmarklet.html\"\n                },\n                {\n                    link: \"Legal\",\n                    url: \"http://www.ycombinator.com/legal/\"\n                },\n                {\n                    link: \"Apply to YC\",\n                    url: \"http://www.ycombinator.com/apply/\"\n                },\n                {\n                    link: \"Contact\",\n                    url: \"mailto:hn@ycombinator.com\"\n                },\n            ]\n\t\t}\n        this.updatePageState = this.updatePageState.bind(this);\n\n    }\n    // use to get data if not passed in my router\n    getData(dataToGet) {\n        utils.getAPI(\"https://hacker-news.firebaseio.com/v0/maxitem.json?print=pretty\")\n        .then(maxNum => {\n            //\t insert ids into URL - get array of promises\n            Promise.all(\n                Array.from(\n                    {\n                        length: 100\n                    },\n                    (_, i) => maxNum - i\n                ).map(id => {\n                    // check which route it is being called in with flag - comment or non-comment\n                    return utils.getStory(id).then(obj => {\n                        // reject nulls here\n                        if (obj) {\n                            if(dataToGet === \"comment\"){\n                                if (obj.type === \"comment\") {\n                                    return obj;\n                                }\n                            } else if(dataToGet === \"show\"){\n                                if(obj.type !== \"comment\"){\n                                    return obj\n                                }\n                            }\n                        }\n                    })\n                    //push resolved promises into another array\n                })\n            ).then(items => {\n                if(dataToGet === 'comment'){\n                    // // filter out undefined\n                    // let comments = items.filter(obj => obj)\n                    // // console.log('c', comments)\n                    // // push all comments to state\n                    // this.setState({\n                    //     fullComments: [...comments]\n                    // })\n                    // // paginate comments on load\n                    // let obj = utils.paginate(this.state.fullComments)\n                    // console.log('original obj', obj.indexes)\n                    // // set first 30 to state\n                    // this.setState({\n                    //     chunkComments: obj\n                    // })\n                    // filter out undefined\n                    // filter out undefined\n                    let comments = items.filter(obj => obj)\n                    // console.log('c', comments)\n                    // push all comments to state\n                    let counterAndChunk = this.paginate(comments)\n                    console.log('counterAndChunk', counterAndChunk)\n                    this.setState({\n                        // return {\n                        //     chunkComments: chunk,\n                        //     counter: count,\n                        //     indexes: indexes\n                        // }\n                        fullComments: [...comments],\n                        chunkComments: [...counterAndChunk.chunkComments],\n                        counter: counterAndChunk.counter,\n                        indexes:  counterAndChunk.indexes\n                    })\n                    console.log('state', this.state)\n                } else if(dataToGet === 'show'){\n                    console.log('show')\n                    let newShows = items.map((item) => {\n                        if(item){\n                            console.log(item.title)\n                        }\n                        // if(item.type === 'story'){\n                            // console.log(/^Show HN:/.test(item.title))\n                        // }\n                    })\n                    // this.setState(prevState => ({\n                    //     comments: [...prevState.comments, comments]\n                    // }))\n\n                } else {\n                    console.error(`Error: fetch type needed`)\n                }\n            })\n        })\n    }\n\n    filterShowStories(){\n        utils.getAPI(\" https://hacker-news.firebaseio.com/v0/showstories.json?print=pretty\")\n        .then(stories => {\n            Promise.all(\n                stories.map(id => {\n                    // console.log(id)\n                    return utils.getStory(id).then(obj => {\n                        // reject nulls\n                        return obj\n                    });\n                    //push resolved promises into another array\n                })\n            ).then(stories => {\n                stories = stories.sort((a, b) => {\n                    return a.time - b.time\n                }).reverse()\n                this.setState(prevState => ({\n                    stories: [...prevState.stories, stories]\n                }))\n            })\n        })\n    }\n    paginate(arr) {\n        // console.log('Arr', arr)\n    //increment and get current count\n        let count = this.state.counter + 30\n        console.log('count', count)\n        let sliceStart = count - 30\n // console.log('start', sliceStart)\n     let sliceEnd = count\n/* console.log('end', sliceEnd) */\n        let indexes = utils.range(sliceStart+1, sliceEnd+1, 1)\n        let chunk = arr.slice(sliceStart, sliceEnd)\n        /* console.log('chunk', chunk) */\n        if(utils.checkRoute('/comments')){\n            return {\n                chunkComments: chunk,\n                counter: count,\n                indexes: indexes\n            }\n        } else {\n            return {\n                chunkData: chunk,\n                counter: count,\n                indexes: indexes\n            }\n\n        }\n    }\n\n    colorLinks(){\n        let route = window.location.pathname\n        let elem = document.querySelector(\"a[href=\"+ \"'\" + route + \"'\" + \"]\")\n        elem.style.color = \"#ffffff\"\n    }\n    updatePageState(state) {\n        console.log('update', state)\n        let arr\n        if(utils.checkRoute('/comments')){\n            arr = state.fullComments\n            let newState = this.paginate(arr)\n            console.log('new', newState.chunkComments)\n            this.setState({\n                chunkComments: newState.chunkComments,\n                counter: newState.counter,\n                indexes: newState.indexes\n            })\n        } else {\n            arr = state.chunkData\n            // arr = state.chunkComments\n            let newState = this.paginate(arr)\n            this.setState({\n                chunkData: newState\n            })\n        }\n        // let newState = this.paginate(arr)\n        // console.log('newState', newState)\n        // this.setState({\n        //     [stateKey]: newState\n        // })\n        // this.setState(newState)\n        //console.log('new state', this.state)\n    }\n    //fired onclick pass in arr to be sliced\n    // updatePageState(arr, stateKey){\n    //     console.log('fired')\n    //     let obj = this.paginate(arr)\n    //     console.log('paginate obj', obj)\n    //     console.log('datakey', stateKey)\n    //     // use [] to set string in key\n    //     this.setState({\n    //         [stateKey]: obj\n    //     })\n    //     // console.log('state', this.state.stateKey)\n    //     console.log('state', this.state[stateKey])\n    // }\n\tcomponentDidMount() {\n        // this.colorLinks()\n        // check if comments route\n\t\tif (utils.checkRoute('/comments')) {\n\t\t\t// get comments and set state\n\t\t\tthis.getData(\"comment\")\n            // if not comments do this\n        } else if(utils.checkRoute('/shownew')){\n            this.getData(\"show\")\n            // console.log('show', this.state)\n\t\t} else {\n            // console.log('TEST ABOVE')\n\t\t\tconsole.log(\"not comments\")\n            console.log(\"props\", this.props)\n            console.log(\"env\", process.env)\n            console.log('newestT')\n\n            // push entire array of props to state\n\t\t\tthis.props.data.then(result => {\n                // load full data\n                // console.log('c', comments)\n                // push all comments to state\n                // let counterAndChunk = this.paginate(result)\n                // this.setState({\n                //     fullDate: [...result],\n                //     ...counterAndChunk\n                // })\n                // console.log('state', this.state)\n\t\t\t\t\tthis.setState({\n\t\t\t\t\t\tfullData: result\n\t\t\t\t\t}, () => {\n                        //paginate data on load\n                        let obj = this.paginate(this.state.fullData)\n                        // set first 30 to state\n                        this.setState({\n                            chunkData: obj\n                        })\n                        // this.updatePageState(this.state.fullData)\n                    })\n\t\t\t\t})\n\t\t\t\t.catch(e => console.error(`error: ${e}`));\n\t\t}\n\t}\n\t// render piece of text on show page\n\tShowPageText() {\n\t\tif (window.location.pathname === \"/show\") {\n\t\t\treturn (\n\t\t\t\t<div className=\"show-added-text\">\n\t\t\t\t\tPlease read the{\" \"}\n\t\t\t\t\t<a href=\"https://news.ycombinator.com/showhn.html\"> rules</a>. You can\n\t\t\t\t\talso browse the{\" \"}\n\t\t\t\t\t<a href=\"/shownew\">newest\n\t\t\t\t\t</a>{\" \"}\n\t\t\t\t\tShow HNs.{\" \"}\n\t\t\t\t</div>\n\t\t\t)\n\t\t} else {\n\t\t\treturn null\n\t\t}\n\t}\n    // check which markup to render- run inside render func\n    renderBodyContent(){\n        // if comments Page\n        if(utils.checkRoute('/comments')){\n            // if state is loaded\n            if(utils.checkLoaded(this.state.fullComments)){\n                // console.log('chunk',this.state.chunkComments)\n                return(<div>\n                    <this.ShowPageText />\n                    {console.log('Render - Comment')}{\" \"}\n                    <Post data={this.state.chunkComments} />{\" \"}\n                    </div>\n                )\n            } else {\n                return(\n                        <div> Fetching Comments API Data </div>\n                    )\n            }\n        } else if(utils.checkRoute('/shownew')){\n            if(utils.checkLoaded(this.state.stories)){\n                return(<div>\n                    {console.log('Render - show new')}{\" \"}\n                    <Post data={this.state.stories} />{\" \"}\n                    </div>\n                )\n            }\n        } else {\n            if(utils.checkLoaded(this.state.fullData)){\n                if(utils.checkLoaded(this.state.chunkData)){\n                    console.log('STATE', this.state)\n                    return(<div>\n                        <this.ShowPageText />\n                        {console.log('Render-Data')}{\" \"}\n                        {\" \"}\n                        <Post data={this.state.chunkData} />{\" \"}\n                        </div>\n                    )\n                } else {\n                    return(\n                        <div> Fetching API Data </div>\n                    )\n                }\n            } else {\n                return(\n                    <div> Fetching Data API Data </div>\n                )\n            }\n\n        }\n    }\n\t// change() {\n\t//     let tds = document.querySelectorAll('td')\n\t//     utils.elementsRandomColor(tds)\n\t// }\n    clickFunc() {\n        if(utils.checkRoute('/comments')){\n            this.updatePageState(this.state.fullComments, \"chunkComments\")\n            // console.log('state', this.state)\n        } else {\n            this.updatePageState(this.state.fullData, \"chunkData\")\n        }\n    }\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"Page\">\n\t\t\t\t<div className=\"page-inner-container\">\n\t\t\t\t\t<div className=\"header-container\">\n\t\t\t\t\t\t<Header\n\t\t\t\t\t\t\tAppname=\"Hacker News\"\n\t\t\t\t\t\t\tlinks={this.state.headerLinks}\n\t\t\t\t\t\t/>{\" \"}\n\t\t\t\t\t</div>{\" \"}\n    \t\t\t\t<div className=\"body-container\">\n    \t\t\t\t\t{\" \"}\n                        {this.renderBodyContent()}\n                        <div id=\"paginator\" onClick={() => {\n                            this.updatePageState(this.state)\n                        }}>More</div>\n    \t\t\t\t</div>{\" \"}\n                        <Footer links={this.state.footerLinks}/>\n                </div>{\" \"}\n\t\t\t</div>\n\t\t);\n\t}\n}\nexport default Page;\n","import React from 'react'\nimport { HashRouter, BrowserRouter, Route, Link, Switch } from \"react-router-dom\"\nimport Page from './Page'\nimport utils from '../utils'\n\n\nfunction Router(){\n    return(\n        <HashRouter basename={process.env.PUBLIC_URL}>\n        <div>\n            <Route exact path=\"/\" component={() => <Page data={utils.fetchData(\"https://hacker-news.firebaseio.com/v0/topstories.json?print=pretty\")} />}/>\n            <Route path=\"/newest\" component={() => <Page data={utils.fetchData(\"https://hacker-news.firebaseio.com/v0/newstories.json?print=pretty\")} />}/>\n            <Route path=\"/show\" component={() => <Page data={utils.fetchData(\"https://hacker-news.firebaseio.com/v0/showstories.json?print=pretty\")} />}/>\n            <Route path=\"/shownew\" component={Page}/>\n            <Route path=\"/ask\" component={() => <Page data={utils.fetchData(\"https://hacker-news.firebaseio.com/v0/askstories.json?print=pretty\")} />}/>\n            <Route path=\"/jobs\" component={() => <Page data={utils.fetchData(\"https://hacker-news.firebaseio.com/v0/jobstories.json?print=pretty\")} />}/>\n            <Route path=\"/comments\" component={Page}/>\n            <Route path=\"/best\" component={() => <Page data={utils.fetchData(\"https://hacker-news.firebaseio.com/v0/beststories.json?print=pretty\")} />}/>\n        </div>\n        </HashRouter>\n    )\n}\n\nexport default Router\n\n\n\n// <Route path=\"/newest\" component={Newest}/>\n// <Route path=\"/show\"   component={Show}/>\n// <Route path=\"/ask\"    component={Ask}/>\n// <Route path=\"/job\"    component={Job}/>\n","import React, {Component} from 'react'\nimport Page from './components/Page'\nimport Router from './components/Router'\nimport './App.css';\n\nclass App extends Component {\n\trender() {\n\t\treturn (<div className=\"App\">\n\t\t\t<Router/>\n\t\t</div>);\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}